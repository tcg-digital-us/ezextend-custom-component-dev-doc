<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>3.3. Create a Custom React Component &mdash; EzeXtend Development Manual  documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" type="text/css" />
      <link rel="stylesheet" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="3.4. Create Component Formatting Options" href="formatting_options.html" />
    <link rel="prev" title="3.2. Create Default Parameters for Component" href="default_parameters.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> EzeXtend Development Manual
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../install.html">1. Install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../install.html#nvm">1.1. NVM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../install.html#nginx">1.2. Nginx</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">2. Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#nvm">2.1. NVM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#nginx">2.2. Nginx</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup.html#ezextend">2.3. ezeXtend</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../setup.html#development-mode">2.3.1. Development Mode</a></li>
<li class="toctree-l3"><a class="reference internal" href="../setup.html#release-mode">2.3.2. Release Mode</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">3. Creating a Custom Dashboard Component</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="add_entry.html">3.1. Add Entry in Components List Sidebar</a></li>
<li class="toctree-l2"><a class="reference internal" href="default_parameters.html">3.2. Create Default Parameters for Component</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">3.3. Create a Custom React Component</a></li>
<li class="toctree-l2"><a class="reference internal" href="formatting_options.html">3.4. Create Component Formatting Options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../wrapping_up.html">4. Wrapping Up</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">EzeXtend Development Manual</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html"><span class="section-number">3. </span>Creating a Custom Dashboard Component</a> &raquo;</li>
      <li><span class="section-number">3.3. </span>Create a Custom React Component</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/custom_component/create_component.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="create-a-custom-react-component">
<h1><span class="section-number">3.3. </span>Create a Custom React Component<a class="headerlink" href="#create-a-custom-react-component" title="Permalink to this headline"></a></h1>
<p>Now, we can actually start creating our custom buton! To do so, we will first create a folder for our React module code called <code class="code docutils literal notranslate"><span class="pre">CustomButton</span></code> in <code class="code docutils literal notranslate"><span class="pre">/EZEXTEND_ROOT/ui/src/Components/Widgets/</span></code>.</p>
<p>Create and open a new file <code class="code docutils literal notranslate"><span class="pre">CustomButton.js</span></code>. EzeXtend uses Redux to manage complicated state in the application, so we will need to import the state selector from Redux:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If this is your first time hearing about “state” in regards to React, Redux, or both, then you should take a moment to look into both of these softwares and the concept of state and how they handle them in greater depth, as this is an integral part of working with React and can be confusing if you are out of the loop.</p>
</div>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useSelector</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;react-redux&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">2</span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Button</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@mui/material&#39;</span><span class="p">;</span><span class="w"></span>
</pre></div>
</div>
<p>We are taking the easy route with this button, and rather than recreating a button from scratch, we are instead using a pre-made React button provided in the Material library and we are wrapping it with our custom specifications. We need to define the functional component and provide it as an exportable default:</p>
<div class="highlight-javascript notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="p">...</span><span class="w"></span>
<span class="linenos">2</span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">Button</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@mui/material&#39;</span><span class="p">;</span><span class="w"></span>
<span class="linenos">3</span>
<span class="hll"><span class="linenos">4</span><span class="kd">function</span><span class="w"> </span><span class="nx">CustomButton</span><span class="p">({</span><span class="w"> </span><span class="nx">id</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
</span><span class="hll"><span class="linenos">5</span>
</span><span class="hll"><span class="linenos">6</span><span class="p">}</span><span class="w"></span>
</span><span class="linenos">7</span>
<span class="hll"><span class="linenos">8</span><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">CustomButton</span><span class="p">;</span><span class="w"></span>
</span></pre></div>
</div>
<p>Next, we will make our custom button return the pre-made button provided by the Material library. We will also provide some properties to the JSX element so that we can customize the button slightly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="n">function</span> <span class="n">CustomButton</span><span class="p">({</span> <span class="nb">id</span> <span class="p">})</span> <span class="p">{</span>
<span class="hll"><span class="linenos">2</span>   <span class="k">return</span> <span class="p">(</span>
</span><span class="hll"><span class="linenos">3</span>      <span class="o">&lt;</span><span class="n">Button</span> <span class="n">sx</span><span class="o">=</span><span class="p">{{</span><span class="n">height</span><span class="p">:</span> <span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="s1">&#39;100%&#39;</span><span class="p">}}</span> <span class="n">variant</span><span class="o">=</span><span class="s1">&#39;outlined&#39;</span><span class="o">&gt;</span>
</span><span class="hll"><span class="linenos">4</span>
</span><span class="hll"><span class="linenos">5</span>      <span class="o">&lt;/</span><span class="n">Button</span><span class="o">&gt;</span>
</span><span class="hll"><span class="linenos">6</span>   <span class="p">)</span>
</span><span class="linenos">7</span><span class="p">}</span>
</pre></div>
</div>
<p>Here we are passing two props, <code class="code docutils literal notranslate"><span class="pre">sx</span></code> and <code class="code docutils literal notranslate"><span class="pre">variant</span></code>. The former allows us to define a JSON object containing a subset of CSS parameters that will be used to override the default CSS styling that comes with Material UI buttons. The latter is a property defined by Material, the button type or variant. In this case we are using the ‘outlined’ button variant.</p>
<p>We want the label for our button to be displayed within the button itself, so to do this we will need to get the label from our <code class="code docutils literal notranslate"><span class="pre">CustomButtonData</span></code> from earlier. The crux here is that we will not be importing the button data directly, instead EzeXtend will load that custom data at runtime and make it available throughout the application via Redux. Because of this, we will have to load the data in from Redux and apply it to our label within the CustomButton module like so:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The array <code class="code docutils literal notranslate"><span class="pre">evaluatedWidgetProperties</span></code> at index <code class="code docutils literal notranslate"><span class="pre">id</span></code> contains the JSON object value corresponding to the <code class="code docutils literal notranslate"><span class="pre">data</span></code> key in the <code class="code docutils literal notranslate"><span class="pre">CustomButtonData</span></code> object we defined.</p>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="n">function</span> <span class="n">CustomButton</span><span class="p">({</span> <span class="nb">id</span> <span class="p">})</span> <span class="p">{</span>
<span class="linenos"> 2</span>
<span class="hll"><span class="linenos"> 3</span>   <span class="n">const</span> <span class="n">props</span> <span class="o">=</span> <span class="n">useSelector</span><span class="p">(</span>
</span><span class="hll"><span class="linenos"> 4</span>      <span class="p">(</span><span class="n">store</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="n">store</span><span class="o">.</span><span class="n">dashboard</span><span class="o">.</span><span class="n">evaluation</span><span class="o">.</span><span class="n">evaluatedWidgetProperties</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span>
</span><span class="hll"><span class="linenos"> 5</span>   <span class="p">);</span>
</span><span class="linenos"> 6</span>
<span class="linenos"> 7</span>   <span class="k">return</span> <span class="p">(</span>
<span class="linenos"> 8</span>      <span class="o">&lt;</span><span class="n">Button</span> <span class="n">sx</span><span class="o">=</span><span class="p">{{</span><span class="n">height</span><span class="p">:</span> <span class="s1">&#39;100%&#39;</span><span class="p">,</span> <span class="n">width</span><span class="p">:</span> <span class="s1">&#39;100%&#39;</span><span class="p">}}</span> <span class="n">variant</span><span class="o">=</span><span class="s1">&#39;outlined&#39;</span><span class="o">&gt;</span>
<span class="hll"><span class="linenos"> 9</span>         <span class="p">{</span> <span class="n">props</span><span class="o">.</span><span class="n">label</span> <span class="p">}</span>
</span><span class="linenos">10</span>      <span class="o">&lt;/</span><span class="n">Button</span><span class="o">&gt;</span>
<span class="linenos">11</span>   <span class="p">)</span>
<span class="linenos">12</span><span class="p">}</span>
</pre></div>
</div>
<p>Were we are providing <code class="code docutils literal notranslate"><span class="pre">useSelector()</span></code> an anonymous function as an argument, knowing that that anonymous function will be provided the store that contains our state data.</p>
<p>Finally, we need to tell EzeXtend that our component exists. To do this we will modify <code class="code docutils literal notranslate"><span class="pre">/EZEXTEND_ROOT/ui/src/Components/Panel.js</span></code>. First import the new component, and then in the function <code class="code docutils literal notranslate"><span class="pre">ComponentProvider()</span></code>, we need to return the JSX for our new custom button in the case that it is selected from within the panel:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos"> 1</span><span class="o">...</span>
<span class="linenos"> 2</span><span class="kn">import</span> <span class="nn">Button</span> <span class="kn">from</span> <span class="s1">&#39;Components/Widgets/Button/Button&#39;</span><span class="p">;</span>
<span class="hll"><span class="linenos"> 3</span><span class="kn">import</span> <span class="nn">CustomButton</span> <span class="kn">from</span> <span class="s1">&#39;Components/Widgets/CustomButton/CustomButton&#39;</span><span class="p">;</span>
</span><span class="linenos"> 4</span><span class="kn">import</span> <span class="nn">Radio</span> <span class="kn">from</span> <span class="s1">&#39;Components/Widgets/Radio/Radio&#39;</span><span class="p">;</span>
<span class="linenos"> 5</span><span class="o">...</span>
<span class="linenos"> 6</span><span class="n">function</span> <span class="n">ComponentProvider</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span> <span class="nb">id</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 7</span>   <span class="n">switch</span><span class="p">(</span><span class="nb">type</span><span class="p">)</span> <span class="p">{</span>
<span class="linenos"> 8</span>      <span class="k">case</span> <span class="n">WidgetsMapping</span><span class="o">.</span><span class="n">CHARTS</span><span class="o">.</span><span class="n">COMBO</span><span class="p">:</span>
<span class="linenos"> 9</span>         <span class="k">return</span> <span class="o">&lt;</span><span class="n">Chart</span> <span class="nb">id</span><span class="o">=</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="linenos">10</span>      <span class="k">case</span> <span class="n">WidgetsMapping</span><span class="o">.</span><span class="n">INPUTS</span><span class="o">.</span><span class="n">BUTTON</span><span class="p">:</span>
<span class="linenos">11</span>         <span class="k">return</span> <span class="o">&lt;</span><span class="n">Button</span> <span class="nb">id</span><span class="o">=</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="hll"><span class="linenos">12</span>      <span class="k">case</span> <span class="n">WidgetsMapping</span><span class="o">.</span><span class="n">INPUTS</span><span class="o">.</span><span class="n">CUSTOM_BUTTON</span><span class="p">:</span>
</span><span class="hll"><span class="linenos">13</span>         <span class="k">return</span> <span class="o">&lt;</span><span class="n">CustomButon</span> <span class="nb">id</span><span class="o">=</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
</span><span class="linenos">14</span>      <span class="k">case</span> <span class="n">WidgetsMapping</span><span class="o">.</span><span class="n">INPUTS</span><span class="o">.</span><span class="n">RADIO</span><span class="p">:</span>
<span class="linenos">15</span>         <span class="k">return</span> <span class="o">&lt;</span><span class="n">Radio</span> <span class="nb">id</span><span class="o">=</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span> <span class="o">/&gt;</span><span class="p">;</span>
<span class="linenos">16</span>      <span class="o">...</span>
<span class="linenos">17</span>   <span class="p">}</span>
<span class="linenos">18</span><span class="p">}</span>
</pre></div>
</div>
<p>Now, we can run the project in development mode once more. We should be able to click and drag the custom button from the sidebar entry onto the dashboard. This is shown in <a class="reference internal" href="#create-component"><span class="std std-numref">Fig. 3.2</span></a>.</p>
<figure class="align-center" id="id1">
<span id="create-component"></span><img alt="../_images/create_component_1.jpg" src="../_images/create_component_1.jpg" />
<figcaption>
<p><span class="caption-number">Fig. 3.2 </span><span class="caption-text">A custom button widget displayed in the dashboard.</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<div class="line-block">
<div class="line"><br /></div>
</div>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="default_parameters.html" class="btn btn-neutral float-left" title="3.2. Create Default Parameters for Component" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="formatting_options.html" class="btn btn-neutral float-right" title="3.4. Create Component Formatting Options" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, TCG Digital.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>